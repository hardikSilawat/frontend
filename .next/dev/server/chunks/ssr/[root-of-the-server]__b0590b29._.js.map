{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/redux/reducers.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// Create a slice with dynamic name\r\nconst createDataSlice = (name) => {\r\n  const slice = createSlice({\r\n    name,\r\n    initialState: null,\r\n    reducers: {\r\n      [`set${name.charAt(0).toUpperCase() + name.slice(1)}`]: (_, { payload }) => payload,\r\n    }\r\n  });\r\n  \r\n  return {\r\n    reducer: slice.reducer,\r\n    action: slice.actions[`set${name.charAt(0).toUpperCase() + name.slice(1)}`],\r\n    selector: (state) => state[name]\r\n  };\r\n};\r\n\r\n// Create all slices\r\nconst slices = {\r\n  user: createDataSlice('user'),\r\n  admin: createDataSlice('admin')\r\n};\r\n\r\n// Export all actions\r\nexport const { setUser } = { setUser: slices.user.action };\r\nexport const { setAdmin } = { setAdmin: slices.admin.action };\r\n\r\n// Export all selectors\r\nexport const selectUser = slices.user.selector;\r\nexport const selectAdmin = slices.admin.selector;\r\n\r\n// Combine all reducers\r\nexport const rootReducer = Object.entries(slices).reduce((acc, [key, { reducer }]) => {\r\n  acc[key] = reducer;\r\n  return acc;\r\n}, {});\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEA,mCAAmC;AACnC,MAAM,kBAAkB,CAAC;IACvB,MAAM,QAAQ,IAAA,0MAAW,EAAC;QACxB;QACA,cAAc;QACd,UAAU;YACR,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,GAAK;QAC9E;IACF;IAEA,OAAO;QACL,SAAS,MAAM,OAAO;QACtB,QAAQ,MAAM,OAAO,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC;QAC3E,UAAU,CAAC,QAAU,KAAK,CAAC,KAAK;IAClC;AACF;AAEA,oBAAoB;AACpB,MAAM,SAAS;IACb,MAAM,gBAAgB;IACtB,OAAO,gBAAgB;AACzB;AAGO,MAAM,EAAE,OAAO,EAAE,GAAG;IAAE,SAAS,OAAO,IAAI,CAAC,MAAM;AAAC;AAClD,MAAM,EAAE,QAAQ,EAAE,GAAG;IAAE,UAAU,OAAO,KAAK,CAAC,MAAM;AAAC;AAGrD,MAAM,aAAa,OAAO,IAAI,CAAC,QAAQ;AACvC,MAAM,cAAc,OAAO,KAAK,CAAC,QAAQ;AAGzC,MAAM,cAAc,OAAO,OAAO,CAAC,QAAQ,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC;IAC/E,GAAG,CAAC,IAAI,GAAG;IACX,OAAO;AACT,GAAG,CAAC"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/redux/store.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { rootReducer, selectUser, selectAdmin, setUser, setAdmin } from \"./reducers\";\r\n\r\n// Create and export the store with the root reducer\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n\r\n// Export all actions and selectors\r\nexport { selectUser, selectAdmin, setUser, setAdmin };\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,QAAQ,IAAA,6MAAc,EAAC;IAClC,SAAS,uIAAW;AACtB"}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/apiHandler/page.js"],"sourcesContent":["\"use client\";\r\nimport Cookies from \"js-cookie\";\r\nimport axios from \"axios\";\r\n\r\nconst getToken = () => {\r\n  if (typeof window === \"undefined\") return null;\r\n  return window.location.pathname.startsWith(\"/admin\")\r\n    ? Cookies.get(\"AdminToken\")\r\n    : Cookies.get(\"UserToken\");\r\n};\r\n\r\nconst request = async (method, url, data = null) => {\r\n  if (!process.env.NEXT_PUBLIC_SERVER_BASE_URL) {\r\n    throw new Error(\"API Base URL is not configured.\");\r\n  }\r\n\r\n  const config = {\r\n    method,\r\n    url: `${process.env.NEXT_PUBLIC_SERVER_BASE_URL}${url}`,\r\n    headers: {\r\n      ...(getToken() && { Authorization: `Bearer ${getToken()}` }),\r\n    },\r\n    ...(data && { data }),\r\n  };\r\n\r\n  try {\r\n    const response = await axios(config);\r\n    return response.data;\r\n  } catch (error) {\r\n    const message =\r\n      error.response?.data?.message || error.message || \"An error occurred\";\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const api = {\r\n  get: (url) => request(\"GET\", url),\r\n  post: (url, data) => request(\"POST\", url, data),\r\n  put: (url, data) => request(\"PUT\", url, data),\r\n  delete: (url) => request(\"DELETE\", url),\r\n};\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AACA;AACA;AAFA;;;AAIA,MAAM,WAAW;IACf,wCAAmC,OAAO;;;AAI5C;AAEA,MAAM,UAAU,OAAO,QAAQ,KAAK,OAAO,IAAI;IAC7C,IAAI,CAAC,QAAQ,GAAG,CAAC,2BAA2B,EAAE;QAC5C,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,SAAS;QACb;QACA,KAAK,GAAG,QAAQ,GAAG,CAAC,2BAA2B,GAAG,KAAK;QACvD,SAAS;YACP,GAAI,cAAc;gBAAE,eAAe,CAAC,OAAO,EAAE,YAAY;YAAC,CAAC;QAC7D;QACA,GAAI,QAAQ;YAAE;QAAK,CAAC;IACtB;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,gJAAK,EAAC;QAC7B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM,UACJ,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;QACpD,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,MAAM,MAAM;IACjB,KAAK,CAAC,MAAQ,QAAQ,OAAO;IAC7B,MAAM,CAAC,KAAK,OAAS,QAAQ,QAAQ,KAAK;IAC1C,KAAK,CAAC,KAAK,OAAS,QAAQ,OAAO,KAAK;IACxC,QAAQ,CAAC,MAAQ,QAAQ,UAAU;AACrC;uCAEe"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/components/GlobalToast/page.js"],"sourcesContent":["\"use client\";\r\nimport { useMediaQuery, useTheme } from \"@mui/material\";\r\nimport { ToastContainer, Bounce } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useEffect, useRef } from \"react\";\r\n\r\nconst GlobalToastContainer = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(\"(max-width:500px)\");\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && containerRef.current) {\r\n      // Add custom styles for success toast\r\n      const style = document.createElement('style');\r\n      style.textContent = `\r\n        .Toastify__toast--success {\r\n          background: ${theme.palette.primary.main} !important;\r\n          color: ${theme.palette.common.white} !important;\r\n          border-radius: 4px;\r\n          box-shadow: ${theme.shadows[3]};\r\n        }\r\n        .Toastify__progress-bar--success {\r\n          background: rgba(255, 255, 255, 0.7) !important;\r\n        }\r\n      `;\r\n      document.head.appendChild(style);\r\n\r\n      return () => {\r\n        document.head.removeChild(style);\r\n      };\r\n    }\r\n  }, [theme]);\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        limit={1}\r\n        hideProgressBar={true}\r\n        newestOnTop={true}\r\n        closeOnClick={true}\r\n        rtl={false}\r\n        pauseOnFocusLoss={false}\r\n        draggable={true}\r\n        pauseOnHover={false}\r\n        theme=\"colored\"\r\n        transition={Bounce}\r\n        style={{\r\n          width: isMobile ? \"90%\" : \"auto\",\r\n          left: isMobile ? \"5%\" : \"50%\",\r\n          top: \"10px\",\r\n          transform: isMobile ? \"none\" : \"translateX(-50%)\",\r\n          zIndex: 99999,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GlobalToastContainer;"],"names":[],"mappings":";;;;;AACA;AAAA;;;;;;;;;;;AAGA;AAJA;;;;;;AAMA,MAAM,uBAAuB;IAC3B,MAAM,QAAQ,IAAA,iNAAQ;IACtB,MAAM,WAAW,IAAA,+NAAa,EAAC;IAC/B,MAAM,eAAe,IAAA,+MAAM,EAAC;IAE5B,IAAA,kNAAS,EAAC;QACR;;IAoBF,GAAG;QAAC;KAAM;IAEV,qBACE,8OAAC;QAAI,KAAK;kBACR,cAAA,8OAAC;YACC,UAAS;YACT,WAAW;YACX,OAAO;YACP,iBAAiB;YACjB,aAAa;YACb,cAAc;YACd,KAAK;YACL,kBAAkB;YAClB,WAAW;YACX,cAAc;YACd,OAAM;YACN,YAAY;YACZ,OAAO;gBACL,OAAO,WAAW,QAAQ;gBAC1B,MAAM,WAAW,OAAO;gBACxB,KAAK;gBACL,WAAW,WAAW,SAAS;gBAC/B,QAAQ;YACV;;;;;;;;;;;AAIR;uCAEe"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/components/Admin/ConfirmDialog/page.js"],"sourcesContent":["import { forwardRef, useState, useImperativeHandle } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  IconButton,\r\n  CircularProgress,\r\n  Slide,\r\n  useMediaQuery,\r\n} from \"@mui/material\";\r\nimport { Close as CloseIcon } from \"@mui/icons-material\";\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ConfirmDialog = forwardRef((props, ref) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [config, setConfig] = useState({\r\n    title: \"Are you sure?\",\r\n    message: \"This action cannot be undone.\",\r\n    confirmText: \"Confirm\",\r\n    cancelText: \"Cancel\",\r\n    type: \"info\",\r\n    onConfirm: () => {},\r\n    onCancel: () => {},\r\n    showCancel: true,\r\n    maxWidth: \"sm\",\r\n    hideCloseButton: false,\r\n  });\r\n\r\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down(\"sm\"));\r\n\r\n  const show = (customConfig) => {\r\n    setConfig((prev) => ({\r\n      ...prev,\r\n      ...customConfig,\r\n    }));\r\n    setOpen(true);\r\n    return new Promise((resolve) => {\r\n      resolve(true);\r\n    });\r\n  };\r\n\r\n  const hide = () => {\r\n    setOpen(false);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await config.onConfirm();\r\n      hide();\r\n    } catch (error) {\r\n      console.error(\"Confirmation error:\", error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show,\r\n    hide,\r\n  }));\r\n\r\n  const getColor = () => {\r\n    switch (config.type) {\r\n      case \"error\":\r\n        return \"error\";\r\n      case \"warning\":\r\n        return \"warning\";\r\n      case \"success\":\r\n        return \"success\";\r\n      default:\r\n        return \"primary\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={!loading ? hide : null}\r\n      maxWidth={config.maxWidth}\r\n      fullWidth\r\n      TransitionComponent={Transition}\r\n      fullScreen={isMobile}\r\n      PaperProps={{\r\n        sx: {\r\n          borderRadius: 2,\r\n          boxShadow: 3,\r\n          minWidth: isMobile ? \"100%\" : 300,\r\n          maxWidth: isMobile ? \"100%\" : \"50%\",\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle\r\n        sx={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          bgcolor: `${getColor()}.main`,\r\n          color: \"common.white\",\r\n          py: 1.5,\r\n          px: 2.5,\r\n        }}\r\n      >\r\n        <Typography\r\n          component=\"span\" // Changed from default h2 to span\r\n          variant=\"h6\"\r\n          sx={{\r\n            flex: 1,\r\n            color: \"inherit\", // Ensure text color is inherited from DialogTitle\r\n          }}\r\n        >\r\n          {config.title}\r\n        </Typography>\r\n\r\n        {!config.hideCloseButton && !loading && (\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={hide}\r\n            size=\"small\"\r\n            sx={{\r\n              color: \"common.white\",\r\n              \"&:hover\": {\r\n                bgcolor: \"rgba(255, 255, 255, 0.1)\",\r\n              },\r\n            }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        )}\r\n      </DialogTitle>\r\n\r\n      <DialogContent sx={{ p: 3 }}>\r\n        <Typography variant=\"body1\" my={2} fontWeight={500}>\r\n          {config.message}\r\n        </Typography>\r\n        {config.details && (\r\n          <Box sx={{ mt: 2, bgcolor: \"action.hover\", p: 2, borderRadius: 1 }}>\r\n            {config.details.map((detail, index) => (\r\n              <Box key={index} sx={{ mb: 1 }}>\r\n                <Typography variant=\"caption\" color=\"textSecondary\">\r\n                  {detail.label}\r\n                </Typography>\r\n                <Typography variant=\"body2\">{detail.value}</Typography>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n\r\n      <DialogActions sx={{ p: 2, borderTop: 1, borderColor: \"divider\" }}>\r\n        {config.showCancel && (\r\n          <Button\r\n            disableElevation\r\n            onClick={hide}\r\n            disabled={loading}\r\n            color=\"inherit\"\r\n            variant=\"contained\"\r\n            sx={{\r\n              minWidth: 100,\r\n              \"&:hover\": { color: \"common.white\", bgcolor: \"primary.main\" },\r\n            }}\r\n          >\r\n            {config.cancelText}\r\n          </Button>\r\n        )}\r\n        <Button\r\n          disableElevation\r\n          onClick={handleConfirm}\r\n          disabled={loading}\r\n          color={getColor()}\r\n          variant=\"contained\"\r\n          sx={{\r\n            minWidth: 100,\r\n            \"&:hover\": { color: \"common.white\", bgcolor: \"primary.main\" },\r\n          }}\r\n          startIcon={\r\n            loading ? <CircularProgress size={20} color=\"inherit\" /> : null\r\n          }\r\n        >\r\n          {loading ? \"Processing...\" : config.confirmText}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nConfirmDialog.displayName = \"ConfirmDialog\";\r\n\r\nexport default ConfirmDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/contexts/ConfirmContext.js"],"sourcesContent":["import { createContext, useCallback, useRef } from 'react';\nimport { useTheme } from '@mui/material';\nimport ConfirmDialog from '@/components/Admin/ConfirmDialog/page';\n\nexport const ConfirmContext = createContext(null);\n\nexport const ConfirmProvider = ({ children }) => {\n  const confirmRef = useRef();\n  const theme = useTheme();\n\n  const confirm = useCallback((config) => {\n    if (!confirmRef.current) return Promise.resolve(false);\n    return confirmRef.current.show(config);\n  }, []);\n\n  const close = useCallback(() => {\n    if (confirmRef.current) {\n      confirmRef.current.hide();\n    }\n  }, []);\n\n  return (\n    <ConfirmContext.Provider value={{ confirm, close, theme }}>\n      {children}\n      <ConfirmDialog ref={confirmRef} />\n    </ConfirmContext.Provider>\n  );\n};\n\nexport default ConfirmContext;\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;;;;;AAEO,MAAM,+BAAiB,IAAA,sNAAa,EAAC;AAErC,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE;IAC1C,MAAM,aAAa,IAAA,+MAAM;IACzB,MAAM,QAAQ,IAAA,iNAAQ;IAEtB,MAAM,UAAU,IAAA,oNAAW,EAAC,CAAC;QAC3B,IAAI,CAAC,WAAW,OAAO,EAAE,OAAO,QAAQ,OAAO,CAAC;QAChD,OAAO,WAAW,OAAO,CAAC,IAAI,CAAC;IACjC,GAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,oNAAW,EAAC;QACxB,IAAI,WAAW,OAAO,EAAE;YACtB,WAAW,OAAO,CAAC,IAAI;QACzB;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAO;QAAM;;YACrD;0BACD,8OAAC,8JAAa;gBAAC,KAAK;;;;;;;;;;;;AAG1B;uCAEe"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/components/AuthRedirect/index.js"],"sourcesContent":["\"use client\";\nimport Cookies from \"js-cookie\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\n// Public routes that don't require authentication\nconst publicRoutes = [\n  \"/\",\n  \"/home\",\n  \"/shop\",\n  \"/about\",\n  \"/contact\",\n  \"/product\",\n];\n\n// Auth routes that should redirect to home if already authenticated\nconst authRoutes = [\"/login\"];\n\n// Protected routes that require authentication\nconst protectedRoutes = [\"/dashboard\"];\n\nexport default function AuthRedirect({ children }) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isClient, setIsClient] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  useEffect(() => {\n    if (!isClient) return;\n\n    const token = Cookies.get(\"UserToken\");\n    const adminToken = Cookies.get(\"AdminToken\");\n    const redirectToProfile = Cookies.get(\"redirectToProfile\");\n\n    // Handle redirect to profile if needed\n    if (redirectToProfile === \"true\") {\n      Cookies.remove(\"redirectToProfile\");\n      router.replace(\"/user/profile\");\n      return;\n    }\n\n    // Admin routes protection\n    if (pathname.startsWith(\"/admin\")) {\n      // Redirect to admin login if not authenticated\n      if (!adminToken && !pathname.startsWith(\"/admin/login\")) {\n        router.replace(\"/admin/login\");\n        return;\n      }\n      // Redirect to dashboard if already logged in and trying to access login\n      if (pathname === \"/admin/login\" && adminToken) {\n        router.replace(\"/admin/dashboard\");\n        return;\n      }\n      return; // Skip further checks for admin routes\n    }\n\n    // Check if current route is protected\n    const isProtectedRoute = protectedRoutes.some((route) =>\n      pathname.startsWith(route)\n    );\n    const isAuthRoute = authRoutes.some((route) => pathname.startsWith(route));\n    const isPublicRoute = publicRoutes.some((route) =>\n      pathname.startsWith(route)\n    );\n\n    // Redirect to signin if trying to access protected route without token\n    if (isProtectedRoute && !token) {\n      router.replace(\"/login\");\n      return;\n    }\n\n    // Redirect to home if already authenticated and trying to access auth routes\n    if (isAuthRoute && token) {\n      router.replace(\"/\");\n      return;\n    }\n\n    // Handle 404 for non-existent routes (optional)\n    if (!isPublicRoute && !isAuthRoute && !isProtectedRoute) {\n      // router.replace(\"/404\"); // Uncomment if you have a 404 page\n    }\n  }, [isClient, pathname, router]);\n\n  return isClient ? children : null;\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;AAKA,kDAAkD;AAClD,MAAM,eAAe;IACnB;IACA;IACA;IACA;IACA;IACA;CACD;AAED,oEAAoE;AACpE,MAAM,aAAa;IAAC;CAAS;AAE7B,+CAA+C;AAC/C,MAAM,kBAAkB;IAAC;CAAa;AAEvB,SAAS,aAAa,EAAE,QAAQ,EAAE;IAC/C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,YAAY;IACd,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,UAAU;QAEf,MAAM,QAAQ,gKAAO,CAAC,GAAG,CAAC;QAC1B,MAAM,aAAa,gKAAO,CAAC,GAAG,CAAC;QAC/B,MAAM,oBAAoB,gKAAO,CAAC,GAAG,CAAC;QAEtC,uCAAuC;QACvC,IAAI,sBAAsB,QAAQ;YAChC,gKAAO,CAAC,MAAM,CAAC;YACf,OAAO,OAAO,CAAC;YACf;QACF;QAEA,0BAA0B;QAC1B,IAAI,SAAS,UAAU,CAAC,WAAW;YACjC,+CAA+C;YAC/C,IAAI,CAAC,cAAc,CAAC,SAAS,UAAU,CAAC,iBAAiB;gBACvD,OAAO,OAAO,CAAC;gBACf;YACF;YACA,wEAAwE;YACxE,IAAI,aAAa,kBAAkB,YAAY;gBAC7C,OAAO,OAAO,CAAC;gBACf;YACF;YACA,QAAQ,uCAAuC;QACjD;QAEA,sCAAsC;QACtC,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAC7C,SAAS,UAAU,CAAC;QAEtB,MAAM,cAAc,WAAW,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC;QACnE,MAAM,gBAAgB,aAAa,IAAI,CAAC,CAAC,QACvC,SAAS,UAAU,CAAC;QAGtB,uEAAuE;QACvE,IAAI,oBAAoB,CAAC,OAAO;YAC9B,OAAO,OAAO,CAAC;YACf;QACF;QAEA,6EAA6E;QAC7E,IAAI,eAAe,OAAO;YACxB,OAAO,OAAO,CAAC;YACf;QACF;QAEA,gDAAgD;QAChD,IAAI,CAAC,iBAAiB,CAAC,eAAe,CAAC,kBAAkB;QACvD,8DAA8D;QAChE;IACF,GAAG;QAAC;QAAU;QAAU;KAAO;IAE/B,OAAO,WAAW,WAAW;AAC/B"}},
    {"offset": {"line": 729, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/providers/ClientProviders.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useCallback } from \"react\";\r\nimport { Provider, useDispatch } from \"react-redux\";\r\nimport { store } from \"@/redux/store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUser } from \"@/redux/reducers\";\r\nimport { setAdmin } from \"@/redux/reducers\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { api } from \"@/apiHandler/page\";\r\nimport { ThemeProvider } from \"@mui/material/styles\";\r\nimport { AppRouterCacheProvider } from \"@mui/material-nextjs/v15-appRouter\";\r\nimport theme from \"@/app/theme\";\r\nimport GlobalToastContainer from \"@/components/GlobalToast/page\";\r\nimport { ConfirmProvider } from \"@/contexts/ConfirmContext\";\r\nimport AuthRedirect from \"@/components/AuthRedirect\";\r\n\r\nexport default function ClientProviders({ children }) {\r\n  return (\r\n    <AppRouterCacheProvider>\r\n      <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n          <GlobalToastContainer />\r\n          <ConfirmProvider>\r\n            <AuthRedirect>\r\n              <InnerClientProviders>{children}</InnerClientProviders>\r\n            </AuthRedirect>\r\n          </ConfirmProvider>\r\n        </ThemeProvider>\r\n      </Provider>\r\n    </AppRouterCacheProvider>\r\n  );\r\n}\r\n\r\nfunction InnerClientProviders({ children }) {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const isMounted = useRef(false);\r\n\r\n  const handleInvalidToken = useCallback((isAdminRoute, tokenName) => {\r\n    const currentPathname = window.location.pathname;\r\n    Cookies.remove(tokenName, { path: \"/\" });\r\n    if (isAdminRoute) {\r\n      dispatch(setAdmin(null));\r\n      if (currentPathname !== \"/admin/login\") {\r\n        router.push(\"/admin/login\");\r\n      }\r\n    } else {\r\n      dispatch(setUser(null));\r\n      if (![\"/login\"].includes(currentPathname)) {\r\n        router.push(\"/login\");\r\n      }\r\n    }\r\n    toast.error(\"Your session has expired. Please log in again.\");\r\n  }, [dispatch, router]);\r\n\r\n  const checkToken = useCallback(async () => {\r\n    const isAdminRoute = pathname?.startsWith(\"/admin\");\r\n    const tokenName = isAdminRoute ? \"AdminToken\" : \"UserToken\";\r\n    let token = Cookies.get(tokenName);\r\n    \r\n    // Check for token in URL parameters (for email links, etc.)\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const searchToken = searchParams.get(\"token\");\r\n    \r\n    if (searchToken) {\r\n      token = searchToken;\r\n      // Remove token from URL without page reload\r\n      const newUrl = new URL(window.location.href);\r\n      newUrl.searchParams.delete(\"token\");\r\n      window.history.replaceState({}, document.title, newUrl.toString());\r\n    }\r\n\r\n    if (!token) {\r\n      if (isAdminRoute) {\r\n        dispatch(setAdmin(null));\r\n      } else {\r\n        dispatch(setUser(null));\r\n      }\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.get(`/user/me`);\r\n\r\n      if (response?.success) {\r\n        // Update token in cookies with fresh expiration\r\n        Cookies.set(tokenName, token, {\r\n          expires: 100 * 365,\r\n          path: \"/\",\r\n          secure: process.env.NODE_ENV === 'production',\r\n          sameSite: 'strict',\r\n        });\r\n\r\n        if (isAdminRoute) {\r\n          dispatch(setAdmin(response.data));\r\n          if (pathname === \"/admin/login\") {\r\n            router.push(\"/admin/dashboard\");\r\n          }\r\n        } else {\r\n          dispatch(setUser(response.data));\r\n          if ([\"/login\"].includes(pathname)) {\r\n            router.push(\"/\");\r\n          }\r\n        }\r\n      } else {\r\n        handleInvalidToken(isAdminRoute, tokenName);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Auth check failed:\", err);\r\n      handleInvalidToken(isAdminRoute, tokenName);\r\n    }\r\n  }, [dispatch, router, pathname, handleInvalidToken]);\r\n\r\n  useEffect(() => {\r\n    if (!isMounted.current) {\r\n      isMounted.current = true;\r\n      checkToken();\r\n\r\n      // Check token every 5 minutes\r\n      const interval = setInterval(checkToken, 5 * 60 * 1000);\r\n\r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [checkToken]);\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":"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"}}]
}