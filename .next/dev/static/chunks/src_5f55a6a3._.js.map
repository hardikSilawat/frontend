{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/redux/reducers.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// Create a slice with dynamic name\r\nconst createDataSlice = (name) => {\r\n  const slice = createSlice({\r\n    name,\r\n    initialState: null,\r\n    reducers: {\r\n      [`set${name.charAt(0).toUpperCase() + name.slice(1)}`]: (_, { payload }) => payload,\r\n    }\r\n  });\r\n  \r\n  return {\r\n    reducer: slice.reducer,\r\n    action: slice.actions[`set${name.charAt(0).toUpperCase() + name.slice(1)}`],\r\n    selector: (state) => state[name]\r\n  };\r\n};\r\n\r\n// Create all slices\r\nconst slices = {\r\n  user: createDataSlice('user'),\r\n  admin: createDataSlice('admin')\r\n};\r\n\r\n// Export all actions\r\nexport const { setUser } = { setUser: slices.user.action };\r\nexport const { setAdmin } = { setAdmin: slices.admin.action };\r\n\r\n// Export all selectors\r\nexport const selectUser = slices.user.selector;\r\nexport const selectAdmin = slices.admin.selector;\r\n\r\n// Combine all reducers\r\nexport const rootReducer = Object.entries(slices).reduce((acc, [key, { reducer }]) => {\r\n  acc[key] = reducer;\r\n  return acc;\r\n}, {});\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEA,mCAAmC;AACnC,MAAM,kBAAkB,CAAC;IACvB,MAAM,QAAQ,IAAA,6MAAW,EAAC;QACxB;QACA,cAAc;QACd,UAAU;YACR,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,GAAK;QAC9E;IACF;IAEA,OAAO;QACL,SAAS,MAAM,OAAO;QACtB,QAAQ,MAAM,OAAO,CAAC,CAAC,GAAG,EAAE,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAAI,CAAC;QAC3E,UAAU,CAAC,QAAU,KAAK,CAAC,KAAK;IAClC;AACF;AAEA,oBAAoB;AACpB,MAAM,SAAS;IACb,MAAM,gBAAgB;IACtB,OAAO,gBAAgB;AACzB;AAGO,MAAM,EAAE,OAAO,EAAE,GAAG;IAAE,SAAS,OAAO,IAAI,CAAC,MAAM;AAAC;AAClD,MAAM,EAAE,QAAQ,EAAE,GAAG;IAAE,UAAU,OAAO,KAAK,CAAC,MAAM;AAAC;AAGrD,MAAM,aAAa,OAAO,IAAI,CAAC,QAAQ;AACvC,MAAM,cAAc,OAAO,KAAK,CAAC,QAAQ;AAGzC,MAAM,cAAc,OAAO,OAAO,CAAC,QAAQ,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE,CAAC;IAC/E,GAAG,CAAC,IAAI,GAAG;IACX,OAAO;AACT,GAAG,CAAC"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/redux/store.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { rootReducer, selectUser, selectAdmin, setUser, setAdmin } from \"./reducers\";\r\n\r\n// Create and export the store with the root reducer\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n\r\n// Export all actions and selectors\r\nexport { selectUser, selectAdmin, setUser, setAdmin };\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS,0IAAW;AACtB"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/apiHandler/page.js"],"sourcesContent":["\"use client\";\r\nimport Cookies from \"js-cookie\";\r\nimport axios from \"axios\";\r\n\r\nconst getToken = () => {\r\n  if (typeof window === \"undefined\") return null;\r\n  return window.location.pathname.startsWith(\"/admin\")\r\n    ? Cookies.get(\"AdminToken\")\r\n    : Cookies.get(\"UserToken\");\r\n};\r\n\r\nconst request = async (method, url, data = null) => {\r\n  if (!process.env.NEXT_PUBLIC_SERVER_BASE_URL) {\r\n    throw new Error(\"API Base URL is not configured.\");\r\n  }\r\n\r\n  const config = {\r\n    method,\r\n    url: `${process.env.NEXT_PUBLIC_SERVER_BASE_URL}${url}`,\r\n    headers: {\r\n      ...(getToken() && { Authorization: `Bearer ${getToken()}` }),\r\n    },\r\n    ...(data && { data }),\r\n  };\r\n\r\n  try {\r\n    const response = await axios(config);\r\n    return response.data;\r\n  } catch (error) {\r\n    const message =\r\n      error.response?.data?.message || error.message || \"An error occurred\";\r\n    throw new Error(message);\r\n  }\r\n};\r\n\r\nexport const api = {\r\n  get: (url) => request(\"GET\", url),\r\n  post: (url, data) => request(\"POST\", url, data),\r\n  put: (url, data) => request(\"PUT\", url, data),\r\n  delete: (url) => request(\"DELETE\", url),\r\n};\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;AAYO;AAXP;AACA;AAFA;;;AAIA,MAAM,WAAW;IACf;;IACA,OAAO,OAAO,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,YACvC,mKAAO,CAAC,GAAG,CAAC,gBACZ,mKAAO,CAAC,GAAG,CAAC;AAClB;AAEA,MAAM,UAAU,OAAO,QAAQ,KAAK,OAAO,IAAI;IAC7C;;IAIA,MAAM,SAAS;QACb;QACA,KAAK,sEAA6C,KAAK;QACvD,SAAS;YACP,GAAI,cAAc;gBAAE,eAAe,CAAC,OAAO,EAAE,YAAY;YAAC,CAAC;QAC7D;QACA,GAAI,QAAQ;YAAE;QAAK,CAAC;IACtB;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,mJAAK,EAAC;QAC7B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM,UACJ,MAAM,QAAQ,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI;QACpD,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,MAAM,MAAM;IACjB,KAAK,CAAC,MAAQ,QAAQ,OAAO;IAC7B,MAAM,CAAC,KAAK,OAAS,QAAQ,QAAQ,KAAK;IAC1C,KAAK,CAAC,KAAK,OAAS,QAAQ,OAAO,KAAK;IACxC,QAAQ,CAAC,MAAQ,QAAQ,UAAU;AACrC;uCAEe"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/app/theme.js"],"sourcesContent":["\"use client\";\r\nimport { createTheme } from \"@mui/material/styles\";\r\n\r\nconst theme = createTheme({\r\n  cssVariables: true,\r\n\r\n  typography: {\r\n    fontFamily: '\"Lora\", serif',\r\n    allVariants: {\r\n      fontFamily: '\"Lora\", serif',\r\n    },\r\n  },\r\n  palette: {\r\n    primary: {\r\n      light: \"#757ce8\",\r\n      main: \"#3cb815\",\r\n      dark: \"#002884\",\r\n      contrastText: \"#fff\",\r\n      lightHover: \"#ff7800\",\r\n    },\r\n    secondary: {\r\n      main: \"#ff0000\",\r\n    },\r\n    bglightorange: \"#F9F4EE \", //  light grayish-orange background color\r\n    bglightorange10: \"#f9ebdb \", //  light grayish-orange background color\r\n    bgSpringGreen: \"#F0F3E8\",\r\n    bggray200: \"#F5F5F5\",\r\n\r\n    gray70: \"#323B3E\",\r\n    gray40: \"#666666\",\r\n  },\r\n  components: {\r\n    MuiButton: {\r\n      styleOverrides: {\r\n        root: {\r\n          \"&.MuiButton-containedPrimary:hover\": {\r\n            backgroundColor: \"#ff7800\",\r\n          },\r\n          \"&.MuiButton-containedSecondary:hover\": {\r\n            backgroundColor: \"#ff7800\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;\r\n"],"names":[],"mappings":";;;;AACA;AADA;;AAGA,MAAM,QAAQ,IAAA,6NAAW,EAAC;IACxB,cAAc;IAEd,YAAY;QACV,YAAY;QACZ,aAAa;YACX,YAAY;QACd;IACF;IACA,SAAS;QACP,SAAS;YACP,OAAO;YACP,MAAM;YACN,MAAM;YACN,cAAc;YACd,YAAY;QACd;QACA,WAAW;YACT,MAAM;QACR;QACA,eAAe;QACf,iBAAiB;QACjB,eAAe;QACf,WAAW;QAEX,QAAQ;QACR,QAAQ;IACV;IACA,YAAY;QACV,WAAW;YACT,gBAAgB;gBACd,MAAM;oBACJ,sCAAsC;wBACpC,iBAAiB;oBACnB;oBACA,wCAAwC;wBACtC,iBAAiB;oBACnB;gBACF;YACF;QACF;IACF;AACF;uCAEe"}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/components/GlobalToast/page.js"],"sourcesContent":["\"use client\";\r\nimport { useMediaQuery, useTheme } from \"@mui/material\";\r\nimport { ToastContainer, Bounce } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useEffect, useRef } from \"react\";\r\n\r\nconst GlobalToastContainer = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(\"(max-width:500px)\");\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && containerRef.current) {\r\n      // Add custom styles for success toast\r\n      const style = document.createElement('style');\r\n      style.textContent = `\r\n        .Toastify__toast--success {\r\n          background: ${theme.palette.primary.main} !important;\r\n          color: ${theme.palette.common.white} !important;\r\n          border-radius: 4px;\r\n          box-shadow: ${theme.shadows[3]};\r\n        }\r\n        .Toastify__progress-bar--success {\r\n          background: rgba(255, 255, 255, 0.7) !important;\r\n        }\r\n      `;\r\n      document.head.appendChild(style);\r\n\r\n      return () => {\r\n        document.head.removeChild(style);\r\n      };\r\n    }\r\n  }, [theme]);\r\n\r\n  return (\r\n    <div ref={containerRef}>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={3000}\r\n        limit={1}\r\n        hideProgressBar={true}\r\n        newestOnTop={true}\r\n        closeOnClick={true}\r\n        rtl={false}\r\n        pauseOnFocusLoss={false}\r\n        draggable={true}\r\n        pauseOnHover={false}\r\n        theme=\"colored\"\r\n        transition={Bounce}\r\n        style={{\r\n          width: isMobile ? \"90%\" : \"auto\",\r\n          left: isMobile ? \"5%\" : \"50%\",\r\n          top: \"10px\",\r\n          transform: isMobile ? \"none\" : \"translateX(-50%)\",\r\n          zIndex: 99999,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GlobalToastContainer;"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAEA;;;AAJA;;;;;AAMA,MAAM,uBAAuB;;IAC3B,MAAM,QAAQ,IAAA,oNAAQ;IACtB,MAAM,WAAW,IAAA,kOAAa,EAAC;IAC/B,MAAM,eAAe,IAAA,uKAAM,EAAC;IAE5B,IAAA,0KAAS;0CAAC;YACR,IAAI,+CAAkB,eAAe,aAAa,OAAO,EAAE;gBACzD,sCAAsC;gBACtC,MAAM,QAAQ,SAAS,aAAa,CAAC;gBACrC,MAAM,WAAW,GAAG,CAAC;;sBAEL,EAAE,MAAM,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;iBAClC,EAAE,MAAM,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;;sBAExB,EAAE,MAAM,OAAO,CAAC,EAAE,CAAC;;;;;MAKnC,CAAC;gBACD,SAAS,IAAI,CAAC,WAAW,CAAC;gBAE1B;sDAAO;wBACL,SAAS,IAAI,CAAC,WAAW,CAAC;oBAC5B;;YACF;QACF;yCAAG;QAAC;KAAM;IAEV,qBACE,6LAAC;QAAI,KAAK;kBACR,cAAA,6LAAC,wKAAc;YACb,UAAS;YACT,WAAW;YACX,OAAO;YACP,iBAAiB;YACjB,aAAa;YACb,cAAc;YACd,KAAK;YACL,kBAAkB;YAClB,WAAW;YACX,cAAc;YACd,OAAM;YACN,YAAY,gKAAM;YAClB,OAAO;gBACL,OAAO,WAAW,QAAQ;gBAC1B,MAAM,WAAW,OAAO;gBACxB,KAAK;gBACL,WAAW,WAAW,SAAS;gBAC/B,QAAQ;YACV;;;;;;;;;;;AAIR;GArDM;;QACU,oNAAQ;QACL,kOAAa;;;KAF1B;uCAuDS"}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/components/Admin/ConfirmDialog/page.js"],"sourcesContent":["import { forwardRef, useState, useImperativeHandle } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  IconButton,\r\n  CircularProgress,\r\n  Slide,\r\n  useMediaQuery,\r\n} from \"@mui/material\";\r\nimport { Close as CloseIcon } from \"@mui/icons-material\";\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n});\r\n\r\nconst ConfirmDialog = forwardRef((props, ref) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [config, setConfig] = useState({\r\n    title: \"Are you sure?\",\r\n    message: \"This action cannot be undone.\",\r\n    confirmText: \"Confirm\",\r\n    cancelText: \"Cancel\",\r\n    type: \"info\",\r\n    onConfirm: () => {},\r\n    onCancel: () => {},\r\n    showCancel: true,\r\n    maxWidth: \"sm\",\r\n    hideCloseButton: false,\r\n  });\r\n\r\n  const isMobile = useMediaQuery((theme) => theme.breakpoints.down(\"sm\"));\r\n\r\n  const show = (customConfig) => {\r\n    setConfig((prev) => ({\r\n      ...prev,\r\n      ...customConfig,\r\n    }));\r\n    setOpen(true);\r\n    return new Promise((resolve) => {\r\n      resolve(true);\r\n    });\r\n  };\r\n\r\n  const hide = () => {\r\n    setOpen(false);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    try {\r\n      setLoading(true);\r\n      await config.onConfirm();\r\n      hide();\r\n    } catch (error) {\r\n      console.error(\"Confirmation error:\", error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    show,\r\n    hide,\r\n  }));\r\n\r\n  const getColor = () => {\r\n    switch (config.type) {\r\n      case \"error\":\r\n        return \"error\";\r\n      case \"warning\":\r\n        return \"warning\";\r\n      case \"success\":\r\n        return \"success\";\r\n      default:\r\n        return \"primary\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={!loading ? hide : null}\r\n      maxWidth={config.maxWidth}\r\n      fullWidth\r\n      TransitionComponent={Transition}\r\n      fullScreen={isMobile}\r\n      PaperProps={{\r\n        sx: {\r\n          borderRadius: 2,\r\n          boxShadow: 3,\r\n          minWidth: isMobile ? \"100%\" : 300,\r\n          maxWidth: isMobile ? \"100%\" : \"50%\",\r\n        },\r\n      }}\r\n    >\r\n      <DialogTitle\r\n        sx={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          bgcolor: `${getColor()}.main`,\r\n          color: \"common.white\",\r\n          py: 1.5,\r\n          px: 2.5,\r\n        }}\r\n      >\r\n        <Typography\r\n          component=\"span\" // Changed from default h2 to span\r\n          variant=\"h6\"\r\n          sx={{\r\n            flex: 1,\r\n            color: \"inherit\", // Ensure text color is inherited from DialogTitle\r\n          }}\r\n        >\r\n          {config.title}\r\n        </Typography>\r\n\r\n        {!config.hideCloseButton && !loading && (\r\n          <IconButton\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={hide}\r\n            size=\"small\"\r\n            sx={{\r\n              color: \"common.white\",\r\n              \"&:hover\": {\r\n                bgcolor: \"rgba(255, 255, 255, 0.1)\",\r\n              },\r\n            }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        )}\r\n      </DialogTitle>\r\n\r\n      <DialogContent sx={{ p: 3 }}>\r\n        <Typography variant=\"body1\" my={2} fontWeight={500}>\r\n          {config.message}\r\n        </Typography>\r\n        {config.details && (\r\n          <Box sx={{ mt: 2, bgcolor: \"action.hover\", p: 2, borderRadius: 1 }}>\r\n            {config.details.map((detail, index) => (\r\n              <Box key={index} sx={{ mb: 1 }}>\r\n                <Typography variant=\"caption\" color=\"textSecondary\">\r\n                  {detail.label}\r\n                </Typography>\r\n                <Typography variant=\"body2\">{detail.value}</Typography>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        )}\r\n      </DialogContent>\r\n\r\n      <DialogActions sx={{ p: 2, borderTop: 1, borderColor: \"divider\" }}>\r\n        {config.showCancel && (\r\n          <Button\r\n            disableElevation\r\n            onClick={hide}\r\n            disabled={loading}\r\n            color=\"inherit\"\r\n            variant=\"contained\"\r\n            sx={{\r\n              minWidth: 100,\r\n              \"&:hover\": { color: \"common.white\", bgcolor: \"primary.main\" },\r\n            }}\r\n          >\r\n            {config.cancelText}\r\n          </Button>\r\n        )}\r\n        <Button\r\n          disableElevation\r\n          onClick={handleConfirm}\r\n          disabled={loading}\r\n          color={getColor()}\r\n          variant=\"contained\"\r\n          sx={{\r\n            minWidth: 100,\r\n            \"&:hover\": { color: \"common.white\", bgcolor: \"primary.main\" },\r\n          }}\r\n          startIcon={\r\n            loading ? <CircularProgress size={20} color=\"inherit\" /> : null\r\n          }\r\n        >\r\n          {loading ? \"Processing...\" : config.confirmText}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n\r\nConfirmDialog.displayName = \"ConfirmDialog\";\r\n\r\nexport default ConfirmDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/contexts/ConfirmContext.js"],"sourcesContent":["import { createContext, useCallback, useRef } from 'react';\nimport { useTheme } from '@mui/material';\nimport ConfirmDialog from '@/components/Admin/ConfirmDialog/page';\n\nexport const ConfirmContext = createContext(null);\n\nexport const ConfirmProvider = ({ children }) => {\n  const confirmRef = useRef();\n  const theme = useTheme();\n\n  const confirm = useCallback((config) => {\n    if (!confirmRef.current) return Promise.resolve(false);\n    return confirmRef.current.show(config);\n  }, []);\n\n  const close = useCallback(() => {\n    if (confirmRef.current) {\n      confirmRef.current.hide();\n    }\n  }, []);\n\n  return (\n    <ConfirmContext.Provider value={{ confirm, close, theme }}>\n      {children}\n      <ConfirmDialog ref={confirmRef} />\n    </ConfirmContext.Provider>\n  );\n};\n\nexport default ConfirmContext;\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;;;;;;AAEO,MAAM,+BAAiB,IAAA,8KAAa,EAAC;AAErC,MAAM,kBAAkB,CAAC,EAAE,QAAQ,EAAE;;IAC1C,MAAM,aAAa,IAAA,uKAAM;IACzB,MAAM,QAAQ,IAAA,oNAAQ;IAEtB,MAAM,UAAU,IAAA,4KAAW;gDAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,OAAO,EAAE,OAAO,QAAQ,OAAO,CAAC;YAChD,OAAO,WAAW,OAAO,CAAC,IAAI,CAAC;QACjC;+CAAG,EAAE;IAEL,MAAM,QAAQ,IAAA,4KAAW;8CAAC;YACxB,IAAI,WAAW,OAAO,EAAE;gBACtB,WAAW,OAAO,CAAC,IAAI;YACzB;QACF;6CAAG,EAAE;IAEL,qBACE,6LAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAO;QAAM;;YACrD;0BACD,6LAAC,iKAAa;gBAAC,KAAK;;;;;;;;;;;;AAG1B;GArBa;;QAEG,oNAAQ;;;KAFX;uCAuBE"}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TUF%20GAMING/OneDrive/Desktop/Interview%20Task/frontend/src/providers/ClientProviders.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useRef, useCallback, useState } from \"react\";\r\nimport { Provider, useDispatch } from \"react-redux\";\r\nimport { store } from \"@/redux/store\";\r\nimport { toast } from \"react-toastify\";\r\nimport { setUser, setAdmin } from \"@/redux/reducers\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter, usePathname } from \"next/navigation\";\r\nimport { api } from \"@/apiHandler/page\";\r\nimport { ThemeProvider } from \"@mui/material/styles\";\r\nimport { AppRouterCacheProvider } from \"@mui/material-nextjs/v15-appRouter\";\r\nimport theme from \"@/app/theme\";\r\nimport GlobalToastContainer from \"@/components/GlobalToast/page\";\r\nimport { ConfirmProvider } from \"@/contexts/ConfirmContext\";\r\n\r\nconst publicRoutes = [\"/login\", \"/admin/login\"];\r\n\r\nfunction AuthAndProviders({ children }) {\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const isMounted = useRef(false);\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  // Token Names and Cookie Handlers\r\n  const isAdminRoute = pathname?.startsWith(\"/admin\");\r\n  const tokenName = isAdminRoute ? \"AdminToken\" : \"UserToken\";\r\n\r\n  /** Redirect logic for all routes and roles */\r\n  const handleRouting = useCallback(\r\n    (token) => {\r\n      const isPublicRoute = publicRoutes.some((route) =>\r\n        pathname.startsWith(route)\r\n      );\r\n\r\n      // Admin routes\r\n      if (isAdminRoute) {\r\n        if (!pathname.startsWith(\"/admin/login\") && !token) {\r\n          router.replace(\"/admin/login\");\r\n          return;\r\n        }\r\n        if (pathname === \"/admin/login\" && token) {\r\n          router.replace(\"/admin/dashboard\");\r\n          return;\r\n        }\r\n      }\r\n\r\n      // Root\r\n      if (pathname === \"/\") {\r\n        router.replace(token ? \"/dashboard\" : \"/login\");\r\n        return;\r\n      }\r\n\r\n      // Protected route, not logged in\r\n      if (!isPublicRoute && !token) {\r\n        router.replace(\"/login\");\r\n        return;\r\n      }\r\n\r\n      // On login page but already logged in\r\n      if (pathname.startsWith(\"/login\") && token) {\r\n        router.replace(\"/dashboard\");\r\n        return;\r\n      }\r\n    },\r\n    [pathname, router, isAdminRoute]\r\n  );\r\n\r\n  /** Remove all tokens and reset Redux, then redirect */\r\n  const handleInvalidToken = useCallback(() => {\r\n    Cookies.remove(\"UserToken\", { path: \"/\" });\r\n    Cookies.remove(\"AdminToken\", { path: \"/\" });\r\n    dispatch(setUser(null));\r\n    dispatch(setAdmin(null));\r\n    handleRouting(false);\r\n    toast.error(\"Your session has expired. Please log in again.\");\r\n  }, [dispatch, handleRouting]);\r\n\r\n  /** Check token and refresh Redux/user session state */\r\n  const checkToken = useCallback(async () => {\r\n    const token = Cookies.get(tokenName);\r\n    if (!token) {\r\n      dispatch(setUser(null));\r\n      dispatch(setAdmin(null));\r\n      handleRouting(false);\r\n      return;\r\n    }\r\n    try {\r\n      const response = await api.get(`/auth/me`);\r\n      if (response?.success) {\r\n        // Refresh token\r\n        Cookies.set(tokenName, token, {\r\n          expires: 100 * 365,\r\n          path: \"/\",\r\n          secure: false,\r\n          sameSite: \"strict\",\r\n        });\r\n        // Set Redux state\r\n        if (isAdminRoute) {\r\n          dispatch(setAdmin(response.data));\r\n        } else {\r\n          dispatch(setUser(response.data));\r\n        }\r\n        handleRouting(token);\r\n      } else {\r\n        handleInvalidToken();\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Auth check failed:\", err);\r\n      handleInvalidToken();\r\n    }\r\n  }, [dispatch, tokenName, isAdminRoute, handleInvalidToken, handleRouting]);\r\n\r\n  useEffect(() => {\r\n    setIsClient(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isClient) return;\r\n    if (!isMounted.current) {\r\n      isMounted.current = true;\r\n      checkToken();\r\n      const interval = setInterval(checkToken, 5 * 60 * 1000);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isClient, checkToken]);\r\n\r\n  return isClient ? <>{children}</> : null;\r\n}\r\n\r\nexport default function ClientProviders({ children }) {\r\n  return (\r\n    <AppRouterCacheProvider>\r\n      <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n          <GlobalToastContainer />\r\n          <ConfirmProvider>\r\n            <AuthAndProviders>{children}</AuthAndProviders>\r\n          </ConfirmProvider>\r\n        </ThemeProvider>\r\n      </Provider>\r\n    </AppRouterCacheProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}